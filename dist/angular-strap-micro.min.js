/**
 * angular-strap-micro
 * @version v2.0.4 - 2014-08-14
 * @link http://mgcrea.github.io/angular-strap
 * @author Marcus Hall (marcush@lovattsmedia.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tab"]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var t=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(e){function n(n){var a={},o=angular.extend({},t,n);return a=e(o)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(t,e,n){t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,a,o){var i={scope:t,element:a,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(t){angular.isDefined(o[t])&&(i[t]=o[t])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(a){t[n]=e.trustAsHtml(a)})}),o.bsAside&&t.$watch(o.bsAside,function(e){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var r=n(i);a.on(o.trigger||"click",r.toggle),t.$on("$destroy",function(){r.destroy(),i=null,r=null})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var t=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,a,o,i,r,c,l,s,u){function d(e){function n(t){t.target===t.currentTarget&&("static"===r.backdrop?i.focus():i.hide())}var i={},r=i.$options=angular.extend({},t,e);i.$promise=f(r.template);var c=i.$scope=r.scope&&r.scope.$new()||a.$new();r.element||r.container||(r.container="body"),p(["title","content"],function(t){r[t]&&(c[t]=u.trustAsHtml(r[t]))}),c.$hide=function(){c.$$postDigest(function(){i.hide()})},c.$show=function(){c.$$postDigest(function(){i.show()})},c.$toggle=function(){c.$$postDigest(function(){i.toggle()})},r.contentTemplate&&(i.$promise=i.$promise.then(function(t){var n=angular.element(t);return f(r.contentTemplate).then(function(t){var a=m('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(t);return e.template||a.next().remove(),n[0].outerHTML})}));var s,d,b=angular.element('<div class="'+r.prefixClass+'-backdrop"/>');return i.$promise.then(function(t){angular.isObject(t)&&(t=t.data),r.html&&(t=t.replace(v,'ng-bind-html="')),t=g.apply(t),s=o(t),i.init()}),i.init=function(){r.show&&c.$$postDigest(function(){i.show()})},i.destroy=function(){d&&(d.remove(),d=null),b&&(b.remove(),b=null),c.$destroy()},i.show=function(){c.$emit(r.prefixEvent+".show.before",i);var t;t=angular.isElement(r.container)?r.container:r.container?m(r.container):null;var e=r.container?null:r.element;d=i.$element=s(c,function(){}),d.css({display:"block"}).addClass(r.placement),r.animation&&(r.backdrop&&b.addClass(r.backdropAnimation),d.addClass(r.animation)),r.backdrop&&l.enter(b,h,null,function(){}),l.enter(d,t,e,function(){c.$emit(r.prefixEvent+".show",i)}),c.$isShown=!0,c.$$phase||c.$root&&c.$root.$$phase||c.$digest();var a=d[0];$(function(){a.focus()}),h.addClass(r.prefixClass+"-open"),r.animation&&h.addClass(r.prefixClass+"-with-"+r.animation),r.backdrop&&(d.on("click",n),b.on("click",n)),r.keyboard&&d.on("keyup",i.$onKeyUp)},i.hide=function(){c.$emit(r.prefixEvent+".hide.before",i),l.leave(d,function(){c.$emit(r.prefixEvent+".hide",i),h.removeClass(r.prefixClass+"-open"),r.animation&&h.removeClass(r.prefixClass+"-with-"+r.animation)}),r.backdrop&&l.leave(b,function(){}),c.$isShown=!1,c.$$phase||c.$root&&c.$root.$$phase||c.$digest(),r.backdrop&&(d.off("click",n),b.off("click",n)),r.keyboard&&d.off("keyup",i.$onKeyUp)},i.toggle=function(){c.$isShown?i.hide():i.show()},i.focus=function(){d[0].focus()},i.$onKeyUp=function(t){27===t.which&&i.hide()},i}function m(t,n){return angular.element((n||e).querySelectorAll(t))}function f(t){return i.when(r.get(t)||c.get(t)).then(function(e){return angular.isObject(e)?(r.put(t,e.data),e.data):e})}var p=angular.forEach,g=String.prototype.trim,$=n.requestAnimationFrame||n.setTimeout,h=angular.element(n.document.body),v=/ng-bind="/gi;return d}]}).directive("bsModal",["$window","$location","$sce","$modal",function(t,e,n,a){return{restrict:"EAC",scope:!0,link:function(t,e,o){var i={scope:t,element:e,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(t){angular.isDefined(o[t])&&(i[t]=o[t])}),angular.forEach(["title","content"],function(e){o[e]&&o.$observe(e,function(a){t[e]=n.trustAsHtml(a)})}),o.bsModal&&t.$watch(o.bsModal,function(e){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var r=a(i);e.on(o.trigger||"click",r.toggle),t.$on("$destroy",function(){r.destroy(),i=null,r=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var t=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:t}}}).directive("bsNavbar",["$window","$location","$navbar",function(t,e,n){var a=n.defaults;return{restrict:"A",link:function(t,n,o){var i=angular.copy(a);angular.forEach(Object.keys(a),function(t){angular.isDefined(o[t])&&(i[t]=o[t])}),t.$watch(function(){return e.path()},function(t){var e=n[0].querySelectorAll("li["+i.routeAttr+"]");angular.forEach(e,function(e){var n=angular.element(e),a=n.attr(i.routeAttr).replace("/","\\/");i.strict&&(a="^"+a+"$");var o=new RegExp(a,["i"]);o.test(t)?n.addClass(i.activeClass):n.removeClass(i.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.tab",[]).run(["$templateCache",function(t){t.put("$pane","{{pane.content}}")}]).provider("$tab",function(){var t=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html"};this.$get=function(){return{defaults:t}}}).directive("bsTabs",["$window","$animate","$tab",function(t,e,n){var a=n.defaults;return{restrict:"EAC",scope:!0,require:"?ngModel",templateUrl:function(t,e){return e.template||a.template},link:function(t,e,n,o){var i=a;angular.forEach(["animation"],function(t){angular.isDefined(n[t])&&(i[t]=n[t])}),n.bsTabs&&t.$watch(n.bsTabs,function(e){t.panes=e},!0),e.addClass("tabs"),i.animation&&e.addClass(i.animation),t.active=t.activePane=0,t.setActive=function(e){t.active=e,o&&o.$setViewValue(e)},o&&(o.$render=function(){t.active=1*o.$modelValue})}}}])}(window,document);